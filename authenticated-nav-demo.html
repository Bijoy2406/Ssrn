<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SSRN Authenticated Navigation Demo</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body {
      margin: 0;
      padding: 0;
      background-color: var(--grey-95);
      min-height: 100vh;
    }

    .demo-content {
      padding: var(--space-800);
      max-width: 1200px;
      margin: 0 auto;
    }

    .demo-content h1 {
      font-family: var(--font-family-heading);
      font-size: var(--heading-xl-size);
      font-weight: var(--font-weight-bold);
      color: var(--text-primary);
      margin-bottom: var(--space-400);
    }

    .demo-content p {
      font-family: var(--font-family-body);
      font-size: var(--body-md-size);
      color: var(--text-secondary);
      line-height: 1.6;
    }

    .welcome-message {
      background-color: var(--surface-primary);
      padding: var(--space-800);
      border-radius: var(--radius-m);
      margin-top: var(--space-600);
    }

    .welcome-message h2 {
      font-family: var(--font-family-heading);
      font-size: var(--heading-lg-size);
      font-weight: var(--font-weight-bold);
      color: var(--text-primary);
      margin-bottom: var(--space-400);
    }
  </style>
</head>
<body>

  <!-- Authenticated User Navigation Bar -->
  <nav class="auth-nav-wrapper">
    <div class="auth-nav">

      <!-- Logo -->
      <a href="/" class="auth-nav__logo">
        <svg width="137" height="48" viewBox="0 0 137 48" fill="none" xmlns="http://www.w3.org/2000/svg">
          <text x="0" y="35" font-family="Manrope" font-size="32" font-weight="800" fill="#03110D">SSRN</text>
        </svg>
      </a>

      <!-- Navigation Fill Frame -->
      <div class="auth-nav__fill">
        <div class="auth-nav__buttons">

          <!-- Our Services Dropdown -->
          <div class="auth-nav-item" id="our-services-nav">
            <button class="auth-nav-item__button" aria-expanded="false" aria-haspopup="true">
              <span class="auth-nav-item__text">Our Services</span>
              <span class="auth-nav-item__icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="6 9 12 15 18 9"></polyline>
                </svg>
              </span>
            </button>

            <!-- Dropdown Menu -->
            <div class="auth-nav-item__menu" role="menu">
              <a href="#" class="auth-nav-menu__item" role="menuitem">
                <svg class="auth-nav-menu__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                </svg>
                <span class="auth-nav-menu__text">Airport Transfer</span>
              </a>
              <a href="#" class="auth-nav-menu__item" role="menuitem">
                <svg class="auth-nav-menu__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <circle cx="12" cy="12" r="10"></circle>
                </svg>
                <span class="auth-nav-menu__text">Point to Point</span>
              </a>
              <a href="#" class="auth-nav-menu__item" role="menuitem">
                <svg class="auth-nav-menu__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <circle cx="12" cy="12" r="10"></circle>
                </svg>
                <span class="auth-nav-menu__text">Hourly Charter</span>
              </a>
            </div>
          </div>

          <!-- For Partners Dropdown -->
          <div class="auth-nav-item" id="for-partners-nav">
            <button class="auth-nav-item__button" aria-expanded="false" aria-haspopup="true">
              <span class="auth-nav-item__text">For Partners</span>
              <span class="auth-nav-item__icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="6 9 12 15 18 9"></polyline>
                </svg>
              </span>
            </button>

            <!-- Dropdown Menu -->
            <div class="auth-nav-item__menu" role="menu">
              <a href="#" class="auth-nav-menu__item" role="menuitem">
                <svg class="auth-nav-menu__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                  <circle cx="9" cy="7" r="4"></circle>
                  <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                  <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                </svg>
                <span class="auth-nav-menu__text">Driver Partnership</span>
              </a>
              <a href="#" class="auth-nav-menu__item" role="menuitem">
                <svg class="auth-nav-menu__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                </svg>
                <span class="auth-nav-menu__text">Hotel Concierge</span>
              </a>
              <a href="#" class="auth-nav-menu__item" role="menuitem">
                <svg class="auth-nav-menu__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                  <circle cx="12" cy="10" r="3"></circle>
                </svg>
                <span class="auth-nav-menu__text">Travel Agents</span>
              </a>
            </div>
          </div>

          <!-- About Us Link -->
          <div class="auth-nav-item auth-nav-item--simple">
            <a href="#" class="auth-nav-item__button">
              <span class="auth-nav-item__text">About Us</span>
            </a>
          </div>

          <!-- Help Link -->
          <div class="auth-nav-item auth-nav-item--simple">
            <a href="#" class="auth-nav-item__button">
              <span class="auth-nav-item__text">Help</span>
            </a>
          </div>

        </div>
      </div>

      <!-- Profile Button with Dropdown -->
      <div class="auth-nav__profile" id="profile-dropdown">
        <button class="auth-nav__profile-btn" aria-expanded="false" aria-haspopup="true">
          <svg class="auth-nav__profile-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
          Mehrab
        </button>

        <!-- Profile Dropdown Menu -->
        <div class="auth-nav__profile-menu" role="menu">
          <a href="#my-rides" class="auth-nav__profile-item" role="menuitem">
            My Rides
          </a>
          <a href="#account" class="auth-nav__profile-item" role="menuitem">
            Account
          </a>
          <button class="auth-nav__profile-item auth-nav__profile-item--logout" role="menuitem">
            Log out
          </button>
        </div>
      </div>

      <!-- Mobile Menu Toggle -->
      <button class="auth-nav__mobile-toggle" aria-label="Toggle navigation menu" id="mobile-menu-toggle">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="3" y1="12" x2="21" y2="12"></line>
          <line x1="3" y1="6" x2="21" y2="6"></line>
          <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
      </button>

    </div>
  </nav>

  <!-- Overlay for mobile menu -->
  <div class="auth-nav-overlay" id="auth-nav-overlay"></div>

  <!-- Demo Content -->
  <div class="demo-content">
    <h1>Authenticated User Navigation</h1>
    <p>
      This navigation bar is designed for logged-in users. It features dropdown menus for
      "Our Services" and "For Partners", simple links for "About Us" and "Help", and a
      profile button that shows the user's name with a dropdown menu.
    </p>
    <p style="margin-top: var(--space-400);">
      <strong>Key Features:</strong><br>
      • User profile button with name (e.g., "Mehrab")<br>
      • Profile dropdown with "My Rides", "Account", and "Log out" options<br>
      • Same navigation structure as anonymous nav but with profile instead of Sign In<br>
      • Fully responsive with mobile menu<br>
      • Sticky navigation bar with drop shadow
    </p>

    <div class="welcome-message">
      <h2>Welcome back, Mr. Mehrab.</h2>
      <p style="color: var(--text-secondary); margin: 0;">
        You're logged in and ready to book your next ride. Click on your profile button
        in the navigation to access your rides, account settings, or log out.
      </p>
    </div>
  </div>

  <script>
    // Dropdown menu functionality for navigation items
    document.querySelectorAll('.auth-nav-item').forEach(navItem => {
      const button = navItem.querySelector('.auth-nav-item__button');
      const menu = navItem.querySelector('.auth-nav-item__menu');

      if (button && menu) {
        let closeTimeout;

        // Toggle dropdown on click
        button.addEventListener('click', (e) => {
          e.preventDefault();
          e.stopPropagation();

          const isOpen = navItem.classList.contains('auth-nav-item--open');

          // Close all other dropdowns
          document.querySelectorAll('.auth-nav-item--open').forEach(item => {
            item.classList.remove('auth-nav-item--open');
            const btn = item.querySelector('.auth-nav-item__button');
            if (btn) btn.setAttribute('aria-expanded', 'false');
          });

          // Toggle current dropdown
          if (!isOpen) {
            navItem.classList.add('auth-nav-item--open');
            button.setAttribute('aria-expanded', 'true');
          } else {
            navItem.classList.remove('auth-nav-item--open');
            button.setAttribute('aria-expanded', 'false');
          }
        });

        // Close dropdown when clicking outside
        document.addEventListener('click', (e) => {
          if (!navItem.contains(e.target)) {
            navItem.classList.remove('auth-nav-item--open');
            button.setAttribute('aria-expanded', 'false');
          }
        });

        // Hover behavior for desktop
        if (window.innerWidth > 768) {
          navItem.addEventListener('mouseenter', () => {
            clearTimeout(closeTimeout);
            navItem.classList.add('auth-nav-item--open');
            button.setAttribute('aria-expanded', 'true');
          });

          navItem.addEventListener('mouseleave', () => {
            closeTimeout = setTimeout(() => {
              navItem.classList.remove('auth-nav-item--open');
              button.setAttribute('aria-expanded', 'false');
            }, 300);
          });
        }
      }
    });

    // Profile dropdown functionality
    const profileDropdown = document.getElementById('profile-dropdown');
    const profileButton = profileDropdown.querySelector('.auth-nav__profile-btn');
    const profileMenu = profileDropdown.querySelector('.auth-nav__profile-menu');

    if (profileButton && profileMenu) {
      // Toggle profile dropdown on click
      profileButton.addEventListener('click', (e) => {
        e.preventDefault();
        e.stopPropagation();

        const isOpen = profileDropdown.classList.contains('auth-nav__profile--open');

        // Close all nav item dropdowns
        document.querySelectorAll('.auth-nav-item--open').forEach(item => {
          item.classList.remove('auth-nav-item--open');
          const btn = item.querySelector('.auth-nav-item__button');
          if (btn) btn.setAttribute('aria-expanded', 'false');
        });

        // Toggle profile dropdown
        if (!isOpen) {
          profileDropdown.classList.add('auth-nav__profile--open');
          profileButton.setAttribute('aria-expanded', 'true');
        } else {
          profileDropdown.classList.remove('auth-nav__profile--open');
          profileButton.setAttribute('aria-expanded', 'false');
        }
      });

      // Close profile dropdown when clicking outside
      document.addEventListener('click', (e) => {
        if (!profileDropdown.contains(e.target)) {
          profileDropdown.classList.remove('auth-nav__profile--open');
          profileButton.setAttribute('aria-expanded', 'false');
        }
      });

      // Close on Escape key
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          profileDropdown.classList.remove('auth-nav__profile--open');
          profileButton.setAttribute('aria-expanded', 'false');
        }
      });

      // Hover behavior for desktop
      if (window.innerWidth > 768) {
        let closeTimeout;

        profileDropdown.addEventListener('mouseenter', () => {
          clearTimeout(closeTimeout);
          profileDropdown.classList.add('auth-nav__profile--open');
          profileButton.setAttribute('aria-expanded', 'true');
        });

        profileDropdown.addEventListener('mouseleave', () => {
          closeTimeout = setTimeout(() => {
            profileDropdown.classList.remove('auth-nav__profile--open');
            profileButton.setAttribute('aria-expanded', 'false');
          }, 300);
        });
      }
    }

    // Logout functionality
    document.querySelector('.auth-nav__profile-item--logout')?.addEventListener('click', (e) => {
      e.preventDefault();
      if (confirm('Are you sure you want to log out?')) {
        console.log('Logging out...');
        // Redirect to login page or handle logout
        window.location.href = '/login.html';
      }
    });

    // Mobile menu toggle
    const mobileToggle = document.getElementById('mobile-menu-toggle');
    const navFill = document.querySelector('.auth-nav__fill');
    const navOverlay = document.getElementById('auth-nav-overlay');

    if (mobileToggle && navFill && navOverlay) {
      mobileToggle.addEventListener('click', () => {
        const isOpen = navFill.classList.contains('auth-nav__fill--open');

        if (isOpen) {
          navFill.classList.remove('auth-nav__fill--open');
          navOverlay.classList.remove('auth-nav-overlay--visible');
          document.body.style.overflow = '';
        } else {
          navFill.classList.add('auth-nav__fill--open');
          navOverlay.classList.add('auth-nav-overlay--visible');
          document.body.style.overflow = 'hidden';
        }
      });

      // Close menu when clicking overlay
      navOverlay.addEventListener('click', () => {
        navFill.classList.remove('auth-nav__fill--open');
        navOverlay.classList.remove('auth-nav-overlay--visible');
        document.body.style.overflow = '';
      });
    }

    // Handle window resize
    window.addEventListener('resize', () => {
      if (window.innerWidth > 768) {
        navFill.classList.remove('auth-nav__fill--open');
        navOverlay.classList.remove('auth-nav-overlay--visible');
        document.body.style.overflow = '';
      }
    });
  </script>

</body>
</html>
